<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A course in Geographic Data Science - OpenScience in Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./openscienceDIY.html" rel="next">
<link href="./openscienceR.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta name="twitter:title" content="A course in Geographic Data Science - OpenScience in Python">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@EPietrostefani">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html">1 Introduction</a></li><li class="breadcrumb-item"><a href="./opensciencePy.html">OpenScience in Python</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">A course in Geographic Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/pietrostefani/gds" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assess.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assessments</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./environ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Environment</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./environR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./environPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./download.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Download data from github</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./openscienceR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenScience in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opensciencePy.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">OpenScience in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./openscienceDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./spatialdata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Spatial Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialdataR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialdataPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialdataDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./mapvector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 Mapping Vector Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mapvectorR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mapvectorPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mapvectorDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./mapraster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 Mapping Raster Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maprasterR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maprasterPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maprasterDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./points.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5 Points</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pointsR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pointsPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pointsDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./spatialw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6 Spatial Weights</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialwR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialwPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialwDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./esda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7 ESDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./esdaR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./esdaPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./esdaDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8 Clustering</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clusteringR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clusteringPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clusteringDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./spatialnetworks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9 - Spatial Networks</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialnetworksR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialnetworksPy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab in Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spatialnetworksDIY.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Do-It-Yourself</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data sets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link active" data-scroll-target="#data-wrangling">Data wrangling</a></li>
  <li><a href="#loading-packages" id="toc-loading-packages" class="nav-link" data-scroll-target="#loading-packages">Loading packages</a></li>
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets">Datasets</a></li>
  <li><a href="#data-sliced-and-diced" id="toc-data-sliced-and-diced" class="nav-link" data-scroll-target="#data-sliced-and-diced">Data, sliced and diced</a></li>
  <li><a href="#columns" id="toc-columns" class="nav-link" data-scroll-target="#columns">Columns</a></li>
  <li><a href="#queries" id="toc-queries" class="nav-link" data-scroll-target="#queries">Queries</a></li>
  <li><a href="#sorting" id="toc-sorting" class="nav-link" data-scroll-target="#sorting">Sorting</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources">Additional resources</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/pietrostefani/gds/edit/main/opensciencePy.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-open-science-Python" class="quarto-section-identifier">OpenScience in Python</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Now that you know what computational notebooks are and why we should care about them, let’s start using them! This section introduces you to using Python for manipulating tabular data. Please read through it carefully and pay attention to how ideas about manipulating data are translated into code. For this part, you can read directly from the course website, although it is recommended you follow the section interactively by running the code on your own.</p>
<p>Once you have read through, jump on the <a href="https://pietrostefani.github.io/gds/openscienceDIY.html">Do-It-Yourself</a> section, which will provide you with a challenge that you should complete on your own, and will allow you to put what you have already learnt into practice.</p>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">Data wrangling</h2>
<p>Real world datasets tend to be messy. There is no way around it: datasets have “holes” (missing data), the amount of formats in which data can be stored is endless, and the best structure to share data is not always the optimum to analyze them, hence the need to wrangle (manipulate, transform and structure) them. As has been correctly pointed out in many outlets (<a href="https://www.nytimes.com/2014/08/18/technology/for-big-data-scientists-hurdle-to-insights-is-janitor-work.html?_r=0">e.g.</a>), much of the <a href="https://twitter.com/BigDataBorat/status/306596352991830016">time</a> spent in what is called (Geo-)Data Science is related not only to sophisticated modeling and insight, but to more basic and less exotic tasks such as obtaining data, processing, turning them into a shape that makes analysis possible, and exploring it to get to know their basic properties.</p>
<p>In this session, you will use a few real world datasets and learn how to process them in Python so they can be transformed and manipulated, if necessary, and analyzed. For this, we will introduce some of the fundamental tools of data analysis and scientific computing. We use a prepared dataset that saves us much of the more intricate processing that goes beyond the introductory level the session is aimed at.</p>
<p>In this notebook, we discuss several patterns to clean and structure data properly, including tidying, subsetting, and aggregating; and we finish with some basic visualization. An additional extension presents more advanced tricks to manipulate tabular data.</p>
<p>Before we get our hands data-dirty, let us import all the additional libraries we will need to run the code:</p>
</section>
<section id="loading-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-packages">Loading packages</h2>
<p>We will start by loading core packages for working with geographic vector and attribute data.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This ensures visualizations are plotted inside the notebook</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os              <span class="co"># This provides several system utilities</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd    <span class="co"># This is the workhorse of data munging in Python</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="datasets" class="level2">
<h2 class="anchored" data-anchor-id="datasets">Datasets</h2>
<p>We will be exploring some demographic characteristics in Liverpool. To do that, we will use a dataset that contains population counts, split by ethnic origin. These counts are aggregated at the Lower Layer Super Output Area (LSOA from now on). LSOAs are an official Census geography defined by the Office of National Statistics. You can think of them, more or less, as neighbourhoods. Many data products (Census, deprivation indices, etc.) use LSOAs as one of their main geographies.</p>
<p>To do this, we will download a data folder from github called <code>census2021_ethn</code>. You should place this in a data folder you will use throughout the course.</p>
<p><strong>Import housesales data from csv</strong></p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>census2021 <span class="op">=</span> pd.read_csv(<span class="st">"data/census2021_ethn/liv_pop.csv"</span>, index_col<span class="op">=</span><span class="st">'GeographyCode'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let us stop for a minute to learn how we have read the file. Here are the main aspects to keep in mind:</p>
<ul>
<li><p>We are using the method <code>read_csv</code> from the <code>pandas</code> library, which we have imported with the alias <code>pd</code>.</p></li>
<li><p>Here the csv is based on a data file but it could also be a web address or sometimes you find data in packages.</p></li>
<li><p>The argument <code>index_col</code> is not strictly necessary but allows us to choose one of the columns as the index of the table. More on indices below.</p></li>
<li><p>We are using <code>read_csv</code> because the file we want to read is in the csv format. However, <code>pandas</code> allows for many more formats to be read and write. A full list of formats supported may be found <a href="https://www.datacamp.com/tutorial/r-data-import-tutorial">here</a>.</p></li>
<li><p>To ensure we can access the data we have read, we store it in an object that we call <code>census2021</code>. We will see more on what we can do with it below but, for now, just keep in mind that allows us to save the result of <code>read_csv</code>.</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>You need to store the data file on your computer, and read it locally. To do that, you can follow these steps:</p>
<ol type="1">
<li><p>Download the <code>census2021_ethn</code> file by right-clicking <a href="https://github.com/pietrostefani/gds/tree/main/data">on this link</a> and saving the file</p></li>
<li><p>Place the file in a data folder you have created where you intend to read it.</p></li>
<li><p>Your folder should have the following structure a. a gds folder (where you will save your quarto .qmd documents) b. a data folder c.&nbsp;the <code>census2021_ethn</code> folder inside your data folder.</p></li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Download a folder on github
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>First go to <a href="https://download-directory.github.io/" class="uri">https://download-directory.github.io/</a></p></li>
<li><p>Then go to the folder you need to today. So for example copy: https://github.com/pietrostefani/gds/tree/main/data/London</p></li>
<li><p>Paste it in the green box… give it a few minutes</p></li>
<li><p>Check your downloads file and unzip</p></li>
</ol>
</div>
</div>
</section>
<section id="data-sliced-and-diced" class="level2">
<h2 class="anchored" data-anchor-id="data-sliced-and-diced">Data, sliced and diced</h2>
<p>Now we are ready to start playing with and interrogating the dataset! What we have at our fingertips is a table that summarizes, for each of the LSOAs in Liverpool, how many people live in each, by the region of the world where they were born. We call these tables <code>DataFrame</code> objects, and they have a lot of functionality built-in to explore and manipulate the data they contain.</p>
<p><strong>Structure</strong></p>
<p>Let’s start by exploring the structure of a <code>DataFrame</code>. We can print it by simply typing its name:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>census2021</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006512</td>
<td>910</td>
<td>106</td>
<td>840</td>
<td>24</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2225</td>
<td>61</td>
<td>595</td>
<td>53</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006514</td>
<td>1786</td>
<td>63</td>
<td>193</td>
<td>61</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006515</td>
<td>974</td>
<td>29</td>
<td>185</td>
<td>18</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006518</td>
<td>1531</td>
<td>69</td>
<td>73</td>
<td>19</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033764</td>
<td>2106</td>
<td>32</td>
<td>49</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033765</td>
<td>1277</td>
<td>21</td>
<td>33</td>
<td>17</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033766</td>
<td>1028</td>
<td>12</td>
<td>20</td>
<td>8</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033767</td>
<td>1003</td>
<td>29</td>
<td>29</td>
<td>5</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033768</td>
<td>1016</td>
<td>69</td>
<td>111</td>
<td>21</td>
<td>6</td>
</tr>
</tbody>
</table>

<p>298 rows × 5 columns</p>
</div>
</div>
</div>
<p>Since they represent a table of data, <code>DataFrame</code> objects have two dimensions: rows and columns. Each of these is automatically assigned a name in what we will call its index. When printing, the index of each dimension is rendered in bold, as opposed to the standard rendering for the content. In the example above, we can see how the column index is automatically picked up from the .csv file’s column names. For rows, we have specified when reading the file we wanted the column <code>GeographyCode</code>, so that is used. If we hadn’t specified any, <code>pandas</code> will automatically generate a sequence starting in <code>0</code> and going all the way to the number of rows minus one. This is the standard structure of a <code>DataFrame</code> object, so we will come to it over and over. Importantly, even when we move to spatial data, our datasets will have a similar structure.</p>
<p>One further feature of these tables is that they can hold columns with different types of data. In our example, this is not used as we have counts (or int, for integer, types) for each column. But it is useful to keep in mind we can combine this with columns that hold other type of data such as categories, text (str, for string), dates or, as we will see later in the course, geographic features.</p>
<p><strong>Inspecting</strong></p>
<p>We can check the top (bottom) X lines of the table by passing X to the method head (tail). For example, for the top/bottom five lines:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>census2021.head() <span class="co"># read first 5 rows</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>census2021.tail() <span class="co"># read last 5 rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033764</td>
<td>2106</td>
<td>32</td>
<td>49</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033765</td>
<td>1277</td>
<td>21</td>
<td>33</td>
<td>17</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033766</td>
<td>1028</td>
<td>12</td>
<td>20</td>
<td>8</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033767</td>
<td>1003</td>
<td>29</td>
<td>29</td>
<td>5</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033768</td>
<td>1016</td>
<td>69</td>
<td>111</td>
<td>21</td>
<td>6</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Summarise</strong></p>
<p>We can get an overview of the values of the table:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>census2021.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>298.00000</td>
<td>298.000000</td>
<td>298.000000</td>
<td>298.000000</td>
<td>298.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1462.38255</td>
<td>29.818792</td>
<td>62.909396</td>
<td>8.087248</td>
<td>1.949664</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>248.67329</td>
<td>51.606065</td>
<td>102.519614</td>
<td>9.397638</td>
<td>2.168216</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>731.00000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1331.25000</td>
<td>7.000000</td>
<td>16.000000</td>
<td>2.000000</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1446.00000</td>
<td>14.000000</td>
<td>33.500000</td>
<td>5.000000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>1579.75000</td>
<td>30.000000</td>
<td>62.750000</td>
<td>10.000000</td>
<td>3.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>2551.00000</td>
<td>484.000000</td>
<td>840.000000</td>
<td>61.000000</td>
<td>11.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note how the output is also a <code>DataFrame</code> object, so you can do with it the same things you would with the original table (e.g.&nbsp;writing it to a file).</p>
<p>In this case, the summary might be better presented if the table is “transposed”:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>census2021.describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Europe</td>
<td>298.0</td>
<td>1462.382550</td>
<td>248.673290</td>
<td>731.0</td>
<td>1331.25</td>
<td>1446.0</td>
<td>1579.75</td>
<td>2551.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Africa</td>
<td>298.0</td>
<td>29.818792</td>
<td>51.606065</td>
<td>0.0</td>
<td>7.00</td>
<td>14.0</td>
<td>30.00</td>
<td>484.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Middle East and Asia</td>
<td>298.0</td>
<td>62.909396</td>
<td>102.519614</td>
<td>1.0</td>
<td>16.00</td>
<td>33.5</td>
<td>62.75</td>
<td>840.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">The Americas and the Caribbean</td>
<td>298.0</td>
<td>8.087248</td>
<td>9.397638</td>
<td>0.0</td>
<td>2.00</td>
<td>5.0</td>
<td>10.00</td>
<td>61.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Antarctica and Oceania</td>
<td>298.0</td>
<td>1.949664</td>
<td>2.168216</td>
<td>0.0</td>
<td>0.00</td>
<td>1.0</td>
<td>3.00</td>
<td>11.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="columns" class="level2">
<h2 class="anchored" data-anchor-id="columns">Columns</h2>
<p><strong>Create new columns</strong></p>
<p>We can generate new variables by applying operations on existing ones. For example, we can calculate the total population by area. Here is a couple of ways to do it:</p>
<p>Longer, hardcoded:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> census2021[<span class="st">'Europe'</span>] <span class="op">+</span> census2021[<span class="st">'Africa'</span>] <span class="op">+</span> census2021[<span class="st">'Middle East and Asia'</span>] <span class="op">+</span> census2021[<span class="st">'The Americas and the Caribbean'</span>] <span class="op">+</span> census2021[<span class="st">'Antarctica and Oceania'</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the top of the variable</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>total.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>GeographyCode
E01006512    1880
E01006513    2941
E01006514    2108
E01006515    1208
E01006518    1696
dtype: int64</code></pre>
</div>
</div>
<p>One shot:</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>census2021[<span class="st">'Total_Population'</span>] <span class="op">=</span> census2021.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the top of the variable</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>census2021.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006512</td>
<td>910</td>
<td>106</td>
<td>840</td>
<td>24</td>
<td>0</td>
<td>1880</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2225</td>
<td>61</td>
<td>595</td>
<td>53</td>
<td>7</td>
<td>2941</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006514</td>
<td>1786</td>
<td>63</td>
<td>193</td>
<td>61</td>
<td>5</td>
<td>2108</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006515</td>
<td>974</td>
<td>29</td>
<td>185</td>
<td>18</td>
<td>2</td>
<td>1208</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006518</td>
<td>1531</td>
<td>69</td>
<td>73</td>
<td>19</td>
<td>4</td>
<td>1696</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note that we are summing over “axis=1”. In a <code>DataFrame</code> object, “axis 0” and “axis 1” represent the rows and columns respectively.</p>
<p>A different spin on this is assigning new values: we can generate new variables with scalars, and modify those:</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New variable with all ones</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>census2021[<span class="st">'ones'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>census2021.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
<th data-quarto-table-cell-role="th">ones</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006512</td>
<td>910</td>
<td>106</td>
<td>840</td>
<td>24</td>
<td>0</td>
<td>1880</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2225</td>
<td>61</td>
<td>595</td>
<td>53</td>
<td>7</td>
<td>2941</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006514</td>
<td>1786</td>
<td>63</td>
<td>193</td>
<td>61</td>
<td>5</td>
<td>2108</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006515</td>
<td>974</td>
<td>29</td>
<td>185</td>
<td>18</td>
<td>2</td>
<td>1208</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006518</td>
<td>1531</td>
<td>69</td>
<td>73</td>
<td>19</td>
<td>4</td>
<td>1696</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Delete columns</strong></p>
<p>Permanently deleting variables is also within reach of one command:</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> census2021[<span class="st">'ones'</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>census2021.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006512</td>
<td>910</td>
<td>106</td>
<td>840</td>
<td>24</td>
<td>0</td>
<td>1880</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2225</td>
<td>61</td>
<td>595</td>
<td>53</td>
<td>7</td>
<td>2941</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006514</td>
<td>1786</td>
<td>63</td>
<td>193</td>
<td>61</td>
<td>5</td>
<td>2108</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006515</td>
<td>974</td>
<td>29</td>
<td>185</td>
<td>18</td>
<td>2</td>
<td>1208</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006518</td>
<td>1531</td>
<td>69</td>
<td>73</td>
<td>19</td>
<td>4</td>
<td>1696</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="queries" class="level2">
<h2 class="anchored" data-anchor-id="queries">Queries</h2>
<p><strong>Index-based queries</strong></p>
<p>Here we explore how we can subset parts of a <code>DataFrame</code> if we know exactly which bits we want. For example, if we want to extract the total and European population of the first four areas in the table:</p>
<p>We use <code>loc</code> with lists:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>eu_tot_first4 <span class="op">=</span> census2021.loc[[<span class="st">'E01006512'</span>, <span class="st">'E01006513'</span>, <span class="st">'E01006514'</span>, <span class="st">'E01006515'</span>], [<span class="st">'Total_Population'</span>, <span class="st">'Europe'</span>]]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>eu_tot_first4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Total_Population</th>
<th data-quarto-table-cell-role="th">Europe</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006512</td>
<td>1880</td>
<td>910</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2941</td>
<td>2225</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006514</td>
<td>2108</td>
<td>1786</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006515</td>
<td>1208</td>
<td>974</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Condition-based queries</strong></p>
<p>However, sometimes, we do not know exactly which observations we want, but we do know what conditions they need to satisfy (e.g.&nbsp;areas with more than 2,000 inhabitants). For these cases, <code>DataFrames</code> support selection based on conditions. Let us see a few examples. Suppose we want to select…</p>
<p>Areas with more than 900 people in Total:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>pop900 <span class="op">=</span> census2021.loc[census2021[<span class="st">'Total_Population'</span>] <span class="op">&gt;</span> <span class="dv">900</span>, :]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>pop900</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006512</td>
<td>910</td>
<td>106</td>
<td>840</td>
<td>24</td>
<td>0</td>
<td>1880</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2225</td>
<td>61</td>
<td>595</td>
<td>53</td>
<td>7</td>
<td>2941</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006514</td>
<td>1786</td>
<td>63</td>
<td>193</td>
<td>61</td>
<td>5</td>
<td>2108</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006515</td>
<td>974</td>
<td>29</td>
<td>185</td>
<td>18</td>
<td>2</td>
<td>1208</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006518</td>
<td>1531</td>
<td>69</td>
<td>73</td>
<td>19</td>
<td>4</td>
<td>1696</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033764</td>
<td>2106</td>
<td>32</td>
<td>49</td>
<td>15</td>
<td>0</td>
<td>2202</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033765</td>
<td>1277</td>
<td>21</td>
<td>33</td>
<td>17</td>
<td>3</td>
<td>1351</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033766</td>
<td>1028</td>
<td>12</td>
<td>20</td>
<td>8</td>
<td>7</td>
<td>1075</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033767</td>
<td>1003</td>
<td>29</td>
<td>29</td>
<td>5</td>
<td>1</td>
<td>1067</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033768</td>
<td>1016</td>
<td>69</td>
<td>111</td>
<td>21</td>
<td>6</td>
<td>1223</td>
</tr>
</tbody>
</table>

<p>298 rows × 6 columns</p>
</div>
</div>
</div>
<p>Areas where there are no more than 750 Europeans:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>euro750 <span class="op">=</span> census2021.loc[census2021[<span class="st">'Europe'</span>] <span class="op">&lt;</span> <span class="dv">750</span>, :]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>euro750</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033757</td>
<td>731</td>
<td>39</td>
<td>223</td>
<td>29</td>
<td>3</td>
<td>1025</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Areas with exactly ten person from Antarctica and Oceania:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>oneOA <span class="op">=</span> census2021.loc[census2021[<span class="st">'Antarctica and Oceania'</span>] <span class="op">==</span> <span class="dv">10</span>, :]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>oneOA</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006679</td>
<td>1353</td>
<td>484</td>
<td>354</td>
<td>31</td>
<td>10</td>
<td>2232</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><em>Pro-tip</em>: These queries can grow in sophistication with almost no limits.</p>
<p><strong>Combining queries</strong></p>
<p>Now all of these queries can be combined with each other, for further flexibility. For example, imagine we want areas with more than 25 people from the Americas and Caribbean, but less than 1,500 in total:</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>ac25_l500 <span class="op">=</span> census2021.loc[(census2021[<span class="st">'The Americas and the Caribbean'</span>] <span class="op">&gt;</span> <span class="dv">25</span>) <span class="op">&amp;</span>                    (census2021[<span class="st">'Total_Population'</span>] <span class="op">&lt;</span> <span class="dv">1500</span>), :]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>ac25_l500</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033750</td>
<td>1235</td>
<td>53</td>
<td>129</td>
<td>26</td>
<td>5</td>
<td>1448</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033752</td>
<td>1024</td>
<td>19</td>
<td>114</td>
<td>33</td>
<td>6</td>
<td>1196</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033754</td>
<td>1262</td>
<td>37</td>
<td>112</td>
<td>32</td>
<td>9</td>
<td>1452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033756</td>
<td>886</td>
<td>31</td>
<td>221</td>
<td>42</td>
<td>5</td>
<td>1185</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01033757</td>
<td>731</td>
<td>39</td>
<td>223</td>
<td>29</td>
<td>3</td>
<td>1025</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01033761</td>
<td>1138</td>
<td>52</td>
<td>138</td>
<td>33</td>
<td>11</td>
<td>1372</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="sorting" class="level2">
<h2 class="anchored" data-anchor-id="sorting">Sorting</h2>
<p>Among the many operations <code>DataFrame</code> objects support, one of the most useful ones is to sort a table based on a given column. For example, imagine we want to sort the table by total population:</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>db_pop_sorted <span class="op">=</span> census2021.sort_values(<span class="st">'Total_Population'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>db_pop_sorted.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Europe</th>
<th data-quarto-table-cell-role="th">Africa</th>
<th data-quarto-table-cell-role="th">Middle East and Asia</th>
<th data-quarto-table-cell-role="th">The Americas and the Caribbean</th>
<th data-quarto-table-cell-role="th">Antarctica and Oceania</th>
<th data-quarto-table-cell-role="th">Total_Population</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">GeographyCode</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006747</td>
<td>2551</td>
<td>163</td>
<td>812</td>
<td>24</td>
<td>2</td>
<td>3552</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006513</td>
<td>2225</td>
<td>61</td>
<td>595</td>
<td>53</td>
<td>7</td>
<td>2941</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006751</td>
<td>1843</td>
<td>139</td>
<td>568</td>
<td>21</td>
<td>1</td>
<td>2572</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">E01006524</td>
<td>2235</td>
<td>36</td>
<td>125</td>
<td>24</td>
<td>11</td>
<td>2431</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">E01006787</td>
<td>2187</td>
<td>53</td>
<td>75</td>
<td>13</td>
<td>2</td>
<td>2330</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="additional-resources" class="level2">
<h2 class="anchored" data-anchor-id="additional-resources">Additional resources</h2>
<ul>
<li>A good introduction to data manipulation in Python is Wes McKinney’s <a href="https://wesmckinney.com/book/">“Python for Data Analysis”</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./openscienceR.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">OpenScience in R</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./openscienceDIY.html" class="pagination-link">
        <span class="nav-page-text">Do-It-Yourself</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Geographic Data Science by Elisabetta Pietrostefani and Carmen Cabrera-Arnau.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>